step:
- elements:
  - if:
      name: returnFalse
      type: function
    init:
      type: func
      value: initBundle
    label: ""
    type: label-element
  - label: ""
    subtitle: Select the Solr version you want to deploy on Kubernetes. The chosen
      version determines the Solr engine features, compatibility, and runtime behavior
      of your database.
    type: label-element
  - disableUnselect: true
    if:
      name: isToggleOn|databases/Solr/versions
      type: function
    label: Database Version
    loader: getAdminOptions|databases/Solr/versions
    schema: schema/properties/spec/properties/admin/properties/databases/properties/Solr/properties/versions/properties/default
    type: select
  - if:
      name: isToggleOn|databases/Solr/mode
      type: function
    init:
      type: func
      value: getDefault|databases/Solr/mode
    isHorizontal: true
    label: Database Mode
    loader: getAdminOptions|databases/Solr/mode
    schema: schema/properties/spec/properties/mode
    type: radio
  - elements:
    - customClass: mb-16
      label: Replica number
      schema: schema/properties/spec/properties/replicas
      type: input
    if:
      name: isEqualToModelPathValue|Replicaset|/spec/mode
      type: function
    type: block-layout
  - elements:
    - label: ""
      subtitle: Overseer nodes coordinate cluster operations and manage shard assignments.
        Configure replicas, storage, and resource allocation for reliable cluster
        coordination.
      type: label-element
    - elements:
      - label: Replica number
        schema: schema/properties/spec/properties/topology/properties/overseer/properties/replicas
        type: input
      - label: Storage Size
        schema: schema/properties/spec/properties/topology/properties/overseer/properties/persistence/properties/size
        type: input
      showLabels: true
      type: horizontal-layout
    - elements:
      - init:
          type: func
          value: setMachineToCustom
        label: Machine
        loader: getMachineListForOptions
        schema: schema/properties/spec/properties/topology/properties/overseer/properties/podResources/properties/machine
        type: select
      - disable:
          name: isMachineNotCustom|topology/overseer
          watchPaths:
          - schema/properties/spec/properties/topology/properties/overseer/properties/podResources/properties/machine
        init:
          type: func
          value: setLimits|cpu|topology/overseer
        label: CPU
        loader: setLimits|cpu|topology/overseer
        schema: schema/properties/spec/properties/topology/properties/overseer/properties/podResources/properties/resources/properties/requests/properties/cpu
        type: input
        watcher:
          func: setRequests|cpu|topology/overseer
          paths:
          - schema/properties/spec/properties/topology/properties/overseer/properties/podResources/properties/resources/properties/requests/properties/cpu
          - schema/properties/spec/properties/topology/properties/overseer/properties/podResources/properties/machine
      - disable:
          name: isMachineNotCustom|topology/overseer
          watchPaths:
          - schema/properties/spec/properties/topology/properties/overseer/properties/podResources/properties/machine
        init:
          type: func
          value: setLimits|memory|topology/overseer
        label: Memory
        loader: setLimits|memory|topology/overseer
        schema: schema/properties/spec/properties/topology/properties/overseer/properties/podResources/properties/resources/properties/requests/properties/memory
        type: input
        watcher:
          func: setRequests|memory|topology/overseer
          paths:
          - schema/properties/spec/properties/topology/properties/overseer/properties/podResources/properties/resources/properties/requests/properties/memory
          - schema/properties/spec/properties/topology/properties/overseer/properties/podResources/properties/machine
      showLabels: true
      type: horizontal-layout
    if:
      name: isEqualToModelPathValue|Topology|/spec/mode
      type: function
    label: Overseer
    showLabels: true
    type: block-layout
  - elements:
    - label: ""
      subtitle: Data nodes store and serve search documents. Configure replicas, storage,
        and resource allocation for optimal search performance and data persistence.
      type: label-element
    - elements:
      - label: Replica number
        schema: schema/properties/spec/properties/topology/properties/data/properties/replicas
        type: input
      - label: Storage Size
        schema: schema/properties/spec/properties/topology/properties/data/properties/persistence/properties/size
        type: input
      showLabels: true
      type: horizontal-layout
    - elements:
      - init:
          type: func
          value: setMachineToCustom
        label: Machine
        loader: getMachineListForOptions
        schema: schema/properties/spec/properties/topology/properties/data/properties/podResources/properties/machine
        type: select
      - disable:
          name: isMachineNotCustom|topology/data
          watchPaths:
          - schema/properties/spec/properties/topology/properties/data/properties/podResources/properties/machine
        init:
          type: func
          value: setLimits|cpu|topology/data
        label: CPU
        loader: setLimits|cpu|topology/data
        schema: schema/properties/spec/properties/topology/properties/data/properties/podResources/properties/resources/properties/requests/properties/cpu
        type: input
        watcher:
          func: setRequests|cpu|topology/data
          paths:
          - schema/properties/spec/properties/topology/properties/data/properties/podResources/properties/resources/properties/requests/properties/cpu
          - schema/properties/spec/properties/topology/properties/data/properties/podResources/properties/machine
      - disable:
          name: isMachineNotCustom|topology/data
          watchPaths:
          - schema/properties/spec/properties/topology/properties/data/properties/podResources/properties/machine
        init:
          type: func
          value: setLimits|memory|topology/data
        label: Memory
        loader: setLimits|memory|topology/data
        schema: schema/properties/spec/properties/topology/properties/data/properties/podResources/properties/resources/properties/requests/properties/memory
        type: input
        watcher:
          func: setRequests|memory|topology/data
          paths:
          - schema/properties/spec/properties/topology/properties/data/properties/podResources/properties/resources/properties/requests/properties/memory
          - schema/properties/spec/properties/topology/properties/data/properties/podResources/properties/machine
      showLabels: true
      type: horizontal-layout
    if:
      name: isEqualToModelPathValue|Topology|/spec/mode
      type: function
    label: Data
    showLabels: true
    type: block-layout
  - elements:
    - label: ""
      subtitle: Coordinator nodes handle query routing and aggregation. Configure
        replicas, storage, and resource allocation for efficient query distribution
        and response coordination.
      type: label-element
    - elements:
      - customClass: mb-20
        label: Replica number
        schema: schema/properties/spec/properties/topology/properties/coordinator/properties/replicas
        type: input
      - label: Storage Size
        schema: schema/properties/spec/properties/topology/properties/coordinator/properties/persistence/properties/size
        type: input
      showLabels: true
      type: horizontal-layout
    - elements:
      - init:
          type: func
          value: setMachineToCustom
        label: Machine
        loader: getMachineListForOptions
        schema: schema/properties/spec/properties/topology/properties/coordinator/properties/podResources/properties/machine
        type: select
      - disable:
          name: isMachineNotCustom|topology/coordinator
          watchPaths:
          - schema/properties/spec/properties/topology/properties/coordinator/properties/podResources/properties/machine
        init:
          type: func
          value: setLimits|cpu|topology/coordinator
        label: CPU
        loader: setLimits|cpu|topology/coordinator
        schema: schema/properties/spec/properties/topology/properties/coordinator/properties/podResources/properties/resources/properties/requests/properties/cpu
        type: input
        watcher:
          func: setRequests|cpu|topology/coordinator
          paths:
          - schema/properties/spec/properties/topology/properties/coordinator/properties/podResources/properties/resources/properties/requests/properties/cpu
          - schema/properties/spec/properties/topology/properties/coordinator/properties/podResources/properties/machine
      - disable:
          name: isMachineNotCustom|topology/coordinator
          watchPaths:
          - schema/properties/spec/properties/topology/properties/coordinator/properties/podResources/properties/machine
        init:
          type: func
          value: setLimits|memory|topology/coordinator
        label: Memory
        loader: setLimits|memory|topology/coordinator
        schema: schema/properties/spec/properties/topology/properties/coordinator/properties/podResources/properties/resources/properties/requests/properties/memory
        type: input
        watcher:
          func: setRequests|memory|topology/coordinator
          paths:
          - schema/properties/spec/properties/topology/properties/coordinator/properties/podResources/properties/resources/properties/requests/properties/memory
          - schema/properties/spec/properties/topology/properties/coordinator/properties/podResources/properties/machine
      showLabels: true
      type: horizontal-layout
    if:
      name: isEqualToModelPathValue|Topology|/spec/mode
      type: function
    label: Coordinator
    showLabels: true
    type: block-layout
  - elements:
    - label: ""
      subtitle: Select a machine profile to allocate CPU and memory resources for
        your database. Choose 'custom' to manually specify resource requirements or
        select a predefined profile.
      type: label-element
    - elements:
      - init:
          type: func
          value: setMachineToCustom
        label: Machine
        loader: getMachineListForOptions
        schema: schema/properties/spec/properties/podResources/properties/machine
        type: select
      - disable:
          name: isMachineNotCustom
          watchPaths:
          - schema/properties/spec/properties/podResources/properties/machine
        init:
          type: func
          value: setLimits|cpu
        label: CPU
        loader: setLimits|cpu
        schema: schema/properties/spec/properties/podResources/properties/resources/properties/requests/properties/cpu
        type: input
        watcher:
          func: setRequests|cpu
          paths:
          - schema/properties/spec/properties/podResources/properties/resources/properties/requests/properties/cpu
          - schema/properties/spec/properties/podResources/properties/machine
      - disable:
          name: isMachineNotCustom
          watchPaths:
          - schema/properties/spec/properties/podResources/properties/machine
        init:
          type: func
          value: setLimits|memory
        label: Memory
        loader: setLimits|memory
        schema: schema/properties/spec/properties/podResources/properties/resources/properties/requests/properties/memory
        type: input
        watcher:
          func: setRequests|memory
          paths:
          - schema/properties/spec/properties/podResources/properties/resources/properties/requests/properties/memory
          - schema/properties/spec/properties/podResources/properties/machine
      showLabels: true
      type: horizontal-layout
    if:
      name: isEqualToModelPathValue|Replicaset,Standalone|/spec/mode
      type: function
    label: Machine Profile
    showLabels: true
    type: block-layout
  - elements:
    - elements:
      - if:
          name: isToggleOn|storageClasses
          type: function
        label: Storage Class
        loader: getAdminOptions|storageClasses
        schema: schema/properties/spec/properties/admin/properties/storageClasses/properties/default
        type: select
      - if:
          name: showStorageSizeField
          type: function
        label: Storage Size
        schema: schema/properties/spec/properties/persistence/properties/size
        type: input
      showLabels: true
      type: horizontal-layout
    if:
      name: isEqualToModelPathValue|Replicaset,Standalone|/spec/mode
      type: function
    type: block-layout
  - elements:
    - label: Name
      loader: getAppBindings
      schema: schema/properties/spec/properties/zookeeperRef/properties/name
      type: select
    label: ZookeeperRef
    showLabels: true
    type: block-layout
  - description: Configure Credentials, Deployment Mode etc.
    elements:
    - elements:
      - label: ""
        subtitle: Add custom labels and annotations to your database resources for
          organization, monitoring, and integration with other Kubernetes tools and
          services.
        type: label-element
      - buttonClass: is-light is-outlined
        label: Labels
        schema: schema/properties/spec/properties/labels
        type: object-item
      - buttonClass: is-light is-outlined
        label: Annotations
        schema: schema/properties/spec/properties/annotations
        type: object-item
      hideBlock: true
      label: Labels & Annotations
      showLabels: true
      type: block-layout
    - customClass: mt-20
      if:
        name: isToggleOn|deletionPolicy
        type: function
      init:
        type: func
        value: getDefault|deletionPolicy
      label: Deletion Policy
      options:
      - description: options.deletionPolicy.delete.description
        text: Delete
        value: Delete
      - description: options.deletionPolicy.halt.description
        text: Halt
        value: Halt
      - description: options.deletionPolicy.wipeOut.description
        text: WipeOut
        value: WipeOut
      - description: options.deletionPolicy.doNotTerminate.description
        text: DoNotTerminate
        value: DoNotTerminate
      schema: schema/properties/spec/properties/deletionPolicy
      type: select
      watcher:
        func: setStorageClass
        paths:
        - schema/properties/spec/properties/deletionPolicy
    - if:
        name: getDefaultValue|spec/admin/authCredential/customize
        type: function
      label: Provide Authentication Credentials?
      schema: temp/createAuthSecret
      type: switch
      watcher:
        func: onAuthChange
        paths:
        - temp/createAuthSecret
    - if:
        name: showReferSecretSwitch
        type: function
      label: Refer existing Secret?
      schema: temp/referSecret
      type: switch
      watcher:
        func: onReferSecretChange
        paths:
        - temp/referSecret
    - if:
        name: showSecretDropdown
        type: function
      label: Secret
      loader: getReferSecrets
      schema: schema/properties/spec/properties/authSecret/properties/name
      type: select
    - if:
        name: showReferSecret
        type: function
      label: Password
      schema: schema/properties/spec/properties/authSecret/properties/password
      type: input
    - if:
        name: getDefaultValue|spec/admin/customConfiguration
        type: function
      label: Configure Database?
      schema: temp/configDatabase
      type: switch
      watcher:
        func: clearConfiguration
        paths:
        - temp/configDatabase
    - if:
        name: isConfigDatabaseOn
        type: function
      label: Configuration
      schema: schema/properties/spec/properties/configuration
      type: textarea
    - if:
        name: isToggleOn|deployment
        type: function
      label: Deployment Mode
      options:
      - description: For exploring databases when high-performance is not required.
        text: Shared
        value: Shared
      - description: For production applications with sophisticated workload
        text: Dedicated
        value: Dedicated
      schema: schema/properties/spec/properties/admin/properties/deployment/properties/default
      type: radio
    - if:
        name: isToggleOn|clusterTier
        type: function
      isHorizontal: true
      label: Cluster Tier
      options:
      - text: General Purpose
        value: GeneralPurpose
      - text: Memory Optimized
        value: MemoryOptimized
      - text: CPU Optimized
        value: CPUOptimized
      schema: schema/properties/spec/properties/admin/properties/clusterTier/properties/default
      type: radio
    - disableUnselect: true
      if:
        name: isToggleOn|clusterTier/placement
        type: function
      label: Placement Policy
      loader: getAdminOptions|clusterTier/placement
      schema: schema/properties/spec/properties/admin/properties/clusterTier/properties/placement/properties/default
      type: select
    - disableUnselect: true
      if:
        name: isToggleOn|clusterTier/nodeTopology
        type: function
      label: Node Topology
      loader: getNodeTopology
      schema: schema/properties/spec/properties/admin/properties/clusterTier/properties/nodeTopology/properties/default
      type: select
    hideBlock: true
    label: Advanced Configuration
    showLabels: true
    type: block-layout
  - description: Enable Backup, Monitoring, TLS etc.
    elements:
    - elements:
      - init:
          type: func
          value: setMonitoring
        label: Enable Monitoring
        schema: temp/monitoring
        type: switch
        watcher:
          func: updateAlertValue
          paths:
          - temp/monitoring
      - customClass: mt-10
        if:
          name: showAlerts
          type: function
        label: Alert Options
        options:
        - text: None
          value: none
        - text: Critical
          value: critical
        - text: Warning
          value: warning
        - text: Info
          value: info
        schema: schema/properties/form/properties/alert/properties/enabled
        type: select
      if:
        name: isToggleOn|monitoring
        type: function
      type: block-layout
    - elements:
      - label: Expose via Gateway?
        schema: schema/properties/spec/properties/admin/properties/expose/properties/default
        type: switch
      if:
        name: isToggleOn|expose
        type: function
      type: block-layout
    if:
      name: showAdditionalSettings
      type: function
    label: Additional Options
    showLabels: true
    type: block-layout
  id: options
  loader: initBundle
  type: single-step-form
type: multi-step-form
