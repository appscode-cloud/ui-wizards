type: multi-step-form
step:
  - type: single-step-form
    id: storage-autoscaler
    loader: getDbDetails
    elements:
      - type: block-layout
        if:
         type: function
         name: isConsole
        elements:
          - type: input
            label: Name
            schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/metadata/properties/name
          - type: select
            label: Select Namespace
            loader: getNamespaces
            if:
              type: function
              name: isRancherManaged
            schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/metadata/properties/namespace
            watcher:
              func: onNamespaceChange
              paths:
                - schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/metadata/properties/namespace
          - type: select
            label: Select Db
            loader: getDbs
            validation:
              type: required
            refresh: true
            schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/databaseRef/properties/name
            watcher:
              func: initMetadata
              paths:
                - schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/databaseRef/properties/name

      - type: radio
        if:
          type: function
          name: isConsole
        label: Select Type
        validation:
          type: required
        schema: temp/properties/autoscalingType
        watcher:
          func: initMetadata
          paths:
            - temp/properties/autoscalingType
        options:
          - text: Compute
            value: compute
            description: Scale your CPU Memory based on resource usage
          - text: Storage
            value: storage
            description: Expand your database size based on volume usage

      - type: block-layout
        showLabels: false
        elements:
          # Storage sections for different node types
          - type: block-layout
            showLabels: false
            elements:
              # Coordinator - Topology Mode
              - type: switch
                label: Trigger
                fullwidth: true
                if:
                  type: function
                  name: isTopology
                init:
                  type: func
                  value: setTrigger|autoscalingKubedbComSolrAutoscaler/spec/storage/coordinator/trigger
                schema: temp/properties/storage/properties/coordinator/properties/trigger
                watcher:
                  func: onTriggerChange|storage/coordinator
                  paths:
                    - temp/properties/storage/properties/coordinator/properties/trigger
              - type: label-element
                label: Expansion Mode (Online/Offline)
                subtitle: For Online Mode enables scaling without downtime by dynamically resizing storage while the database remains operational and Offline Mode performs storage scaling during scheduled downtime, ensuring consistency but requiring database restarts.
                if:
                  type: function
                  name: isTopology
              - type: select
                label: Mode
                description: Select how the storage expansion should be handled.
                if:
                  type: function
                  name: isTopology
                options:
                  - text: Online
                    value: Online
                  - text: Offline
                    value: Offline
                schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/coordinator/properties/expansionMode
              - type: block-layout
                label: Coordinator
                showLabels: true
                if:
                  type: function
                  name: isTopology
                # schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/coordinator
                elements:
                  - type: threshold-input
                    label: Usage Threshold (%)
                    subtitle: Set the threshold percentage of storage usage to trigger scaling.
                    customClass: width-300
                    schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/coordinator/properties/usageThreshold
                  - type: scaling-rules
                    label: Scaling Rules
                    schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/coordinator/properties/scalingRules
                    loader: setValueFromDbDetails|resources/kubedbComSolr/spec/topology/coordinator/storage/resources/requests/storage
                    watcher:
                      func: handleUnit|autoscalingKubedbComSolrAutoscaler/spec/storage/coordinator/scalingRules|scalingRules
                      paths:
                        - schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/coordinator/properties/scalingRules
                  - type: input
                    label: Scaling Threshold
                    schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/coordinator/properties/scalingThreshold
                  - type: input
                    label: Upper Bound
                    schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/coordinator/properties/upperBound
                    watcher:
                      func: handleUnit|autoscalingKubedbComSolrAutoscaler/spec/storage/coordinator/upperBound
                      paths:
                        - schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/coordinator/properties/upperBound

              # Data - Topology Mode
              - type: switch
                label: Trigger
                fullwidth: true
                if:
                  type: function
                  name: isTopology
                init:
                  type: func
                  value: setTrigger|autoscalingKubedbComSolrAutoscaler/spec/storage/data/trigger
                schema: temp/properties/storage/properties/data/properties/trigger
                watcher:
                  func: onTriggerChange|storage/data
                  paths:
                    - temp/properties/storage/properties/data/properties/trigger
              - type: label-element
                label: Expansion Mode (Online/Offline)
                subtitle: For Online Mode enables scaling without downtime by dynamically resizing storage while the database remains operational and Offline Mode performs storage scaling during scheduled downtime, ensuring consistency but requiring database restarts.
                if:
                  type: function
                  name: isTopology
              - type: select
                label: Mode
                description: Select how the storage expansion should be handled.
                if:
                  type: function
                  name: isTopology
                options:
                  - text: Online
                    value: Online
                  - text: Offline
                    value: Offline
                schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/data/properties/expansionMode
              - type: block-layout
                label: Data
                showLabels: true
                if:
                  type: function
                  name: isTopology
                # schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/data
                elements:
                  - type: threshold-input
                    label: Usage Threshold (%)
                    subtitle: Set the threshold percentage of storage usage to trigger scaling.
                    customClass: width-300
                    schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/data/properties/usageThreshold
                  - type: scaling-rules
                    label: Scaling Rules
                    schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/data/properties/scalingRules
                    loader: setValueFromDbDetails|resources/kubedbComSolr/spec/topology/data/storage/resources/requests/storage
                    watcher:
                      func: handleUnit|autoscalingKubedbComSolrAutoscaler/spec/storage/data/scalingRules|scalingRules
                      paths:
                        - schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/data/properties/scalingRules
                  - type: input
                    label: Scaling Threshold
                    schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/data/properties/scalingThreshold
                  - type: input
                    label: Upper Bound
                    schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/data/properties/upperBound
                    watcher:
                      func: handleUnit|autoscalingKubedbComSolrAutoscaler/spec/storage/data/upperBound
                      paths:
                        - schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/data/properties/upperBound

              # Overseer - Topology Mode
              - type: switch
                label: Trigger
                fullwidth: true
                if:
                  type: function
                  name: isTopology
                init:
                  type: func
                  value: setTrigger|autoscalingKubedbComSolrAutoscaler/spec/storage/overseer/trigger
                schema: temp/properties/storage/properties/overseer/properties/trigger
                watcher:
                  func: onTriggerChange|storage/overseer
                  paths:
                    - temp/properties/storage/properties/overseer/properties/trigger
              - type: label-element
                label: Expansion Mode (Online/Offline)
                subtitle: For Online Mode enables scaling without downtime by dynamically resizing storage while the database remains operational and Offline Mode performs storage scaling during scheduled downtime, ensuring consistency but requiring database restarts.
                if:
                  type: function
                  name: isTopology
              - type: select
                label: Mode
                description: Select how the storage expansion should be handled.
                if:
                  type: function
                  name: isTopology
                options:
                  - text: Online
                    value: Online
                  - text: Offline
                    value: Offline
                schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/overseer/properties/expansionMode
              - type: block-layout
                label: Overseer
                showLabels: true
                if:
                  type: function
                  name: isTopology
                # schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/overseer
                elements:
                  - type: threshold-input
                    label: Usage Threshold (%)
                    subtitle: Set the threshold percentage of storage usage to trigger scaling.
                    customClass: width-300
                    schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/overseer/properties/usageThreshold
                  - type: scaling-rules
                    label: Scaling Rules
                    schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/overseer/properties/scalingRules
                    loader: setValueFromDbDetails|resources/kubedbComSolr/spec/topology/overseer/storage/resources/requests/storage
                    watcher:
                      func: handleUnit|autoscalingKubedbComSolrAutoscaler/spec/storage/overseer/scalingRules|scalingRules
                      paths:
                        - schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/overseer/properties/scalingRules
                  - type: input
                    label: Scaling Threshold
                    schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/overseer/properties/scalingThreshold
                  - type: input
                    label: Upper Bound
                    schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/overseer/properties/upperBound
                    watcher:
                      func: handleUnit|autoscalingKubedbComSolrAutoscaler/spec/storage/overseer/upperBound
                      paths:
                        - schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/overseer/properties/upperBound

              # Node - Combined/Standalone Mode
              - type: switch
                label: Trigger
                fullwidth: true
                if:
                  type: function
                  name: isNotTopology
                init:
                  type: func
                  value: setTrigger|autoscalingKubedbComSolrAutoscaler/spec/storage/node/trigger
                schema: temp/properties/storage/properties/node/properties/trigger
                watcher:
                  func: onTriggerChange|storage/node
                  paths:
                    - temp/properties/storage/properties/node/properties/trigger
              - type: label-element
                label: Expansion Mode (Online/Offline)
                subtitle: For Online Mode enables scaling without downtime by dynamically resizing storage while the database remains operational and Offline Mode performs storage scaling during scheduled downtime, ensuring consistency but requiring database restarts.
                if:
                  type: function
                  name: isNotTopology
              - type: select
                label: Mode
                description: Select how the storage expansion should be handled.
                if:
                  type: function
                  name: isNotTopology
                options:
                  - text: Online
                    value: Online
                  - text: Offline
                    value: Offline
                schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/node/properties/expansionMode
              - type: block-layout
                label: Node
                showLabels: true
                if:
                  type: function
                  name: isNotTopology
                # schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/node
                elements:
                  - type: threshold-input
                    label: Usage Threshold (%)
                    subtitle: Set the threshold percentage of storage usage to trigger scaling.
                    customClass: width-300
                    schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/node/properties/usageThreshold
                  - type: scaling-rules
                    label: Scaling Rules
                    schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/node/properties/scalingRules
                    loader: setValueFromDbDetails|resources/kubedbComSolr/spec/storage/resources/requests/storage
                    watcher:
                      func: handleUnit|autoscalingKubedbComSolrAutoscaler/spec/storage/node/scalingRules|scalingRules
                      paths:
                        - schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/node/properties/scalingRules
                  - type: input
                    label: Scaling Threshold
                    schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/node/properties/scalingThreshold
                  - type: input
                    label: Upper Bound
                    schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/node/properties/upperBound
                    watcher:
                      func: handleUnit|autoscalingKubedbComSolrAutoscaler/spec/storage/node/upperBound
                      paths:
                        - schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/node/properties/upperBound

          # Node Topology
          - type: block-layout
            label: Node Topology
            showLabels: true
            # schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/nodeTopology
            elements:
              - type: select
                label: Select NodeTopology
                loader: fetchNodeTopology
                schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/nodeTopology/properties/name
              - type: threshold-input
                label: ScaleUp Diff Percentage
                if:
                  type: function
                  name: isNodeTopologySelected|storage
                schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/nodeTopology/properties/scaleUpDiffPercentage
              - type: threshold-input
                label: ScaleDown Diff Percentage
                if:
                  type: function
                  name: isNodeTopologySelected|storage
                schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/nodeTopology/properties/scaleDownDiffPercentage

          # Ops Request Options
          - type: block-layout
            label: Ops Request Options
            showLabels: true
            if:
              type: function
              name: showOpsRequestOptions
            # schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/opsRequestOptions
            elements:
              - type: time-picker
                label: Timeout
                schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/opsRequestOptions/properties/timeout
              - type: radio
                label: Apply
                init:
                  type: func
                  value: setApplyToIfReady
                options:
                  - text: IfReady (OpsRequest will be applied if database is ready)
                    value: IfReady
                  - text: Always (OpsRequest will always be applied)
                    value: Always
                schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/opsRequestOptions/properties/apply

  - type: single-step-form
    id: compute-autoscaler
    loader: getDbDetails
    elements:
      - type: block-layout
        if:
          type: function
          name: isConsole
        elements:
          - type: input
            label: Name
            schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/metadata/properties/name
          - type: select
            label: Select Namespace
            loader: getNamespaces
            if:
              type: function
              name: isRancherManaged
            schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/metadata/properties/namespace
            watcher:
              func: onNamespaceChange
              paths:
                - schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/metadata/properties/namespace
          - type: select
            label: Select Db
            loader: getDbs
            validation:
              type: required
            refresh: true
            schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/databaseRef/properties/name
            watcher:
              func: initMetadata
              paths:
                - schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/databaseRef/properties/name

      - type: radio
        if:
          type: function
          name: isConsole
        label: Select Type
        validation:
          type: required
        schema: temp/properties/autoscalingType
        watcher:
          func: initMetadata
          paths:
            - temp/properties/autoscalingType
        options:
          - text: Compute
            value: compute
            description: Scale your CPU Memory based on resource usage
          - text: Storage
            value: storage
            description: Expand your database size based on volume usage

      - type: block-layout
        showLabels: false
        elements:
          - type: block-layout
            showLabels: false
            loader: fetchTopologyMachines
            elements:
              # Coordinator - Topology Mode
              - type: switch
                label: Trigger
                fullwidth: true
                if:
                  type: function
                  name: isTopology
                init:
                  type: func
                  value: setTrigger|autoscalingKubedbComSolrAutoscaler/spec/compute/coordinator/trigger
                schema: temp/properties/compute/properties/coordinator/properties/trigger
                watcher:
                  func: onTriggerChange|compute/coordinator
                  paths:
                    - temp/properties/compute/properties/coordinator/properties/trigger
              - type: label-element
                label: Pod lifetime threshold
                subtitle: Specifies the duration a pod can exist before using considered for scaling decisions, ensuring resource optimization and workload stability
                if:
                  type: function
                  name: isTopology
              - type: input
                label: Pod LifeTime Threshold (e.g., 10m 30s)
                schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/coordinator/properties/podLifeTimeThreshold
                customClass: width-300
                if:
                  type: function
                  name: isTopology
              - type: block-layout
                label: Coordinator
                showLabels: true
                if:
                  type: function
                  name: isTopology
                # schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/coordinator
                elements:
                  - type: threshold-input
                    label: ResourceDiff Percentage
                    schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/coordinator/properties/resourceDiffPercentage
                    customClass: width-300
                  - type: label-element
                    label: Resource Configuration
                    subtitle: Define minimum and maximum allowed resources to ensure optimal database performance
                  - type: block-layout
                    showLabels: false
                    elements:
                      - type: horizontal-layout
                        elements:
                        - type: machine-compare
                          label: Min Allowed Profile
                          schema: temp/properties/allowedMachine-coordinator-min
                          if:
                            type: function
                            name: hasAnnotations
                          init:
                            type: func
                            value: setAllowedMachine|coordinator|min
                          loader:
                            name: getMachines|coordinator|min
                            watchPaths:
                              - temp/properties/topologyMachines
                              - temp/properties/allowedMachine-coordinator-max
                          watcher:
                            func: onMachineChange|coordinator
                            paths:
                              - temp/properties/allowedMachine-coordinator-min
                        - type: block-layout
                          label: Min Allowed
                          fixedBlock: true
                          if:
                            type: function
                            name: hasNoAnnotations
                          showLabels: true
                          elements:
                            - type: input-compare
                              label: Cpu
                              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/coordinator/properties/minAllowed/properties/cpu
                            - type: input-compare
                              label: Memory
                              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/coordinator/properties/minAllowed/properties/memory
                        - type: machine-compare
                          label: Max Allowed Profile
                          schema: temp/properties/allowedMachine-coordinator-max
                          if:
                            type: function
                            name: hasAnnotations
                          init:
                            type: func
                            value: setAllowedMachine|coordinator|max
                          loader:
                            name: getMachines|coordinator|max
                            watchPaths:
                              - temp/properties/topologyMachines
                              - temp/properties/allowedMachine-coordinator-min
                          watcher:
                            func: onMachineChange|coordinator
                            paths:
                              - temp/properties/allowedMachine-coordinator-max
                        - type: block-layout
                          label: Max Allowed
                          fixedBlock: true
                          if:
                            type: function
                            name: hasNoAnnotations
                          showLabels: true
                          elements:
                            - type: input-compare
                              label: Cpu
                              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/coordinator/properties/maxAllowed/properties/cpu
                            - type: input-compare
                              label: Memory
                              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/coordinator/properties/maxAllowed/properties/memory
                  - type: select
                    label: Controlled Resources
                    loader: setControlledResources|coordinator
                    multiple: true
                    schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/coordinator/properties/controlledResources
                  - type: select
                    label: Container Controlled Values
                    options:
                      - text: Requests And Limits
                        value: RequestsAndLimits
                      - text: Requests Only
                        value: RequestsOnly
                    schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/coordinator/properties/containerControlledValues

              # Data - Topology Mode
              - type: switch
                label: Trigger
                fullwidth: true
                if:
                  type: function
                  name: isTopology
                init:
                  type: func
                  value: setTrigger|autoscalingKubedbComSolrAutoscaler/spec/compute/data/trigger
                schema: temp/properties/compute/properties/data/properties/trigger
                watcher:
                  func: onTriggerChange|compute/data
                  paths:
                    - temp/properties/compute/properties/data/properties/trigger
              - type: label-element
                label: Pod lifetime threshold
                subtitle: Specifies the duration a pod can exist before using considered for scaling decisions, ensuring resource optimization and workload stability
                if:
                  type: function
                  name: isTopology
              - type: input
                label: Pod LifeTime Threshold (e.g., 10m 30s)
                schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/data/properties/podLifeTimeThreshold
                customClass: width-300
                if:
                  type: function
                  name: isTopology
              - type: block-layout
                label: Data
                showLabels: true
                if:
                  type: function
                  name: isTopology
                # schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/data
                elements:
                  - type: threshold-input
                    label: ResourceDiff Percentage
                    schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/data/properties/resourceDiffPercentage
                    customClass: width-300
                  - type: label-element
                    label: Resource Configuration
                    subtitle: Define minimum and maximum allowed resources to ensure optimal database performance
                  - type: block-layout
                    showLabels: false
                    elements:
                      - type: horizontal-layout
                        elements:
                        - type: machine-compare
                          label: Min Allowed Profile
                          schema: temp/properties/allowedMachine-data-min
                          if:
                            type: function
                            name: hasAnnotations
                          init:
                            type: func
                            value: setAllowedMachine|data|min
                          loader:
                            name: getMachines|data|min
                            watchPaths:
                              - temp/properties/topologyMachines
                              - temp/properties/allowedMachine-data-max
                          watcher:
                            func: onMachineChange|data
                            paths:
                              - temp/properties/allowedMachine-data-min
                        - type: block-layout
                          label: Min Allowed
                          fixedBlock: true
                          if:
                            type: function
                            name: hasNoAnnotations
                          showLabels: true
                          elements:
                            - type: input-compare
                              label: Cpu
                              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/data/properties/minAllowed/properties/cpu
                            - type: input-compare
                              label: Memory
                              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/data/properties/minAllowed/properties/memory
                        - type: machine-compare
                          label: Max Allowed Profile
                          schema: temp/properties/allowedMachine-data-max
                          if:
                            type: function
                            name: hasAnnotations
                          init:
                            type: func
                            value: setAllowedMachine|data|max
                          loader:
                            name: getMachines|data|max
                            watchPaths:
                              - temp/properties/topologyMachines
                              - temp/properties/allowedMachine-data-min
                          watcher:
                            func: onMachineChange|data
                            paths:
                              - temp/properties/allowedMachine-data-max
                        - type: block-layout
                          label: Max Allowed
                          fixedBlock: true
                          if:
                            type: function
                            name: hasNoAnnotations
                          showLabels: true
                          elements:
                            - type: input-compare
                              label: Cpu
                              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/data/properties/maxAllowed/properties/cpu
                            - type: input-compare
                              label: Memory
                              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/data/properties/maxAllowed/properties/memory
                  - type: select
                    label: Controlled Resources
                    loader: setControlledResources|data
                    multiple: true
                    schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/data/properties/controlledResources
                  - type: select
                    label: Container Controlled Values
                    options:
                      - text: Requests And Limits
                        value: RequestsAndLimits
                      - text: Requests Only
                        value: RequestsOnly
                    schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/data/properties/containerControlledValues

              # Overseer - Topology Mode
              - type: switch
                label: Trigger
                fullwidth: true
                if:
                  type: function
                  name: isTopology
                init:
                  type: func
                  value: setTrigger|autoscalingKubedbComSolrAutoscaler/spec/compute/overseer/trigger
                schema: temp/properties/compute/properties/overseer/properties/trigger
                watcher:
                  func: onTriggerChange|compute/overseer
                  paths:
                    - temp/properties/compute/properties/overseer/properties/trigger
              - type: label-element
                label: Pod lifetime threshold
                subtitle: Specifies the duration a pod can exist before using considered for scaling decisions, ensuring resource optimization and workload stability
                if:
                  type: function
                  name: isTopology
              - type: input
                label: Pod LifeTime Threshold (e.g., 10m 30s)
                schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/overseer/properties/podLifeTimeThreshold
                customClass: width-300
                if:
                  type: function
                  name: isTopology
              - type: block-layout
                label: Overseer
                showLabels: true
                if:
                  type: function
                  name: isTopology
                # schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/overseer
                elements:
                  - type: threshold-input
                    label: ResourceDiff Percentage
                    schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/overseer/properties/resourceDiffPercentage
                    customClass: width-300
                  - type: label-element
                    label: Resource Configuration
                    subtitle: Define minimum and maximum allowed resources to ensure optimal database performance
                  - type: block-layout
                    showLabels: false
                    elements:
                      - type: horizontal-layout
                        elements:
                        - type: machine-compare
                          label: Min Allowed Profile
                          schema: temp/properties/allowedMachine-overseer-min
                          if:
                            type: function
                            name: hasAnnotations
                          init:
                            type: func
                            value: setAllowedMachine|overseer|min
                          loader:
                            name: getMachines|overseer|min
                            watchPaths:
                              - temp/properties/topologyMachines
                              - temp/properties/allowedMachine-overseer-max
                          watcher:
                            func: onMachineChange|overseer
                            paths:
                              - temp/properties/allowedMachine-overseer-min
                        - type: block-layout
                          label: Min Allowed
                          fixedBlock: true
                          if:
                            type: function
                            name: hasNoAnnotations
                          showLabels: true
                          elements:
                            - type: input-compare
                              label: Cpu
                              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/overseer/properties/minAllowed/properties/cpu
                            - type: input-compare
                              label: Memory
                              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/overseer/properties/minAllowed/properties/memory
                        - type: machine-compare
                          label: Max Allowed Profile
                          schema: temp/properties/allowedMachine-overseer-max
                          if:
                            type: function
                            name: hasAnnotations
                          init:
                            type: func
                            value: setAllowedMachine|overseer|max
                          loader:
                            name: getMachines|overseer|max
                            watchPaths:
                              - temp/properties/topologyMachines
                              - temp/properties/allowedMachine-overseer-min
                          watcher:
                            func: onMachineChange|overseer
                            paths:
                              - temp/properties/allowedMachine-overseer-max
                        - type: block-layout
                          label: Max Allowed
                          fixedBlock: true
                          if:
                            type: function
                            name: hasNoAnnotations
                          showLabels: true
                          elements:
                            - type: input-compare
                              label: Cpu
                              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/overseer/properties/maxAllowed/properties/cpu
                            - type: input-compare
                              label: Memory
                              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/overseer/properties/maxAllowed/properties/memory
                  - type: select
                    label: Controlled Resources
                    loader: setControlledResources|overseer
                    multiple: true
                    schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/overseer/properties/controlledResources
                  - type: select
                    label: Container Controlled Values
                    options:
                      - text: Requests And Limits
                        value: RequestsAndLimits
                      - text: Requests Only
                        value: RequestsOnly
                    schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/overseer/properties/containerControlledValues

              # Node - Combined/Standalone Mode
              - type: switch
                label: Trigger
                fullwidth: true
                if:
                  type: function
                  name: isNotTopology
                init:
                  type: func
                  value: setTrigger|autoscalingKubedbComSolrAutoscaler/spec/compute/node/trigger
                schema: temp/properties/compute/properties/node/properties/trigger
                watcher:
                  func: onTriggerChange|compute/node
                  paths:
                    - temp/properties/compute/properties/node/properties/trigger
              - type: label-element
                label: Pod lifetime threshold
                subtitle: Specifies the duration a pod can exist before using considered for scaling decisions, ensuring resource optimization and workload stability
                if:
                  type: function
                  name: isNotTopology
              - type: input
                label: Pod LifeTime Threshold (e.g., 10m 30s)
                schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/node/properties/podLifeTimeThreshold
                customClass: width-300
                if:
                  type: function
                  name: isNotTopology
              - type: block-layout
                label: Node
                showLabels: true
                if:
                  type: function
                  name: isNotTopology
                # schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/node
                elements:
                  - type: threshold-input
                    label: ResourceDiff Percentage
                    schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/node/properties/resourceDiffPercentage
                    customClass: width-300
                  - type: label-element
                    label: Resource Configuration
                    subtitle: Define minimum and maximum allowed resources to ensure optimal database performance
                  - type: block-layout
                    showLabels: false
                    elements:
                      - type: horizontal-layout
                        elements:
                        - type: machine-compare
                          label: Min Allowed Profile
                          schema: temp/properties/allowedMachine-node-min
                          if:
                            type: function
                            name: hasAnnotations
                          init:
                            type: func
                            value: setAllowedMachine|node|min
                          loader:
                            name: getMachines|node|min
                            watchPaths:
                              - temp/properties/topologyMachines
                              - temp/properties/allowedMachine-node-max
                          watcher:
                            func: onMachineChange|node
                            paths:
                              - temp/properties/allowedMachine-node-min
                        - type: block-layout
                          label: Min Allowed
                          fixedBlock: true
                          if:
                            type: function
                            name: hasNoAnnotations
                          showLabels: true
                          elements:
                            - type: input-compare
                              label: Cpu
                              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/node/properties/minAllowed/properties/cpu
                            - type: input-compare
                              label: Memory
                              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/node/properties/minAllowed/properties/memory
                        - type: machine-compare
                          label: Max Allowed Profile
                          schema: temp/properties/allowedMachine-node-max
                          if:
                            type: function
                            name: hasAnnotations
                          init:
                            type: func
                            value: setAllowedMachine|node|max
                          loader:
                            name: getMachines|node|max
                            watchPaths:
                              - temp/properties/topologyMachines
                              - temp/properties/allowedMachine-node-min
                          watcher:
                            func: onMachineChange|node
                            paths:
                              - temp/properties/allowedMachine-node-max
                        - type: block-layout
                          label: Max Allowed
                          fixedBlock: true
                          if:
                            type: function
                            name: hasNoAnnotations
                          showLabels: true
                          elements:
                            - type: input-compare
                              label: Cpu
                              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/node/properties/maxAllowed/properties/cpu
                            - type: input-compare
                              label: Memory
                              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/node/properties/maxAllowed/properties/memory
                  - type: select
                    label: Controlled Resources
                    loader: setControlledResources|node
                    multiple: true
                    schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/node/properties/controlledResources
                  - type: select
                    label: Container Controlled Values
                    options:
                      - text: Requests And Limits
                        value: RequestsAndLimits
                      - text: Requests Only
                        value: RequestsOnly
                    schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/node/properties/containerControlledValues

          # Node Topology
          - type: block-layout
            label: NodeTopology
            if:
              type: function
              name: hasNoAnnotations
            showLabels: true
            # schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/nodeTopology
            elements:
              - type: select
                label: Select NodeTopology
                loader: fetchNodeTopology
                schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/nodeTopology/properties/name
              - type: threshold-input
                label: Scale Up DiffPercentage
                if:
                  type: function
                  name: isNodeTopologySelected|compute
                schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/nodeTopology/properties/scaleUpDiffPercentage
              - type: threshold-input
                label: Scale Down DiffPercentage
                if:
                  type: function
                  name: isNodeTopologySelected|compute
                schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/nodeTopology/properties/scaleDownDiffPercentage

      # Ops Request Options
      - type: block-layout
        label: Ops Request Options
        showLabels: true
        if:
          type: function
          name: showOpsRequestOptions
        # schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/opsRequestOptions
        elements:
          - type: time-picker
            label: Timeout
            schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/opsRequestOptions/properties/timeout
          - type: radio
            label: Apply
            init:
              type: func
              value: setApplyToIfReady
            options:
              - text: IfReady (OpsRequest will be applied if database is ready)
                value: IfReady
              - text: Always (OpsRequest will always be applied)
                value: Always
            schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/opsRequestOptions/properties/apply