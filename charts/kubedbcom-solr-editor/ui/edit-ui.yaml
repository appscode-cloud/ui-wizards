step:
- elements:
  - elements:
    - label: Name
      schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/metadata/properties/name
      type: input
    - if:
        name: isRancherManaged
        type: function
      label: Select Namespace
      loader: getNamespaces
      schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/metadata/properties/namespace
      type: select
      watcher:
        func: onNamespaceChange
        paths:
        - schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/metadata/properties/namespace
    - label: Select Db
      loader: getDbs
      refresh: true
      schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/databaseRef/properties/name
      type: select
      validation:
        type: required
      watcher:
        func: initMetadata
        paths:
        - schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/databaseRef/properties/name
    if:
      name: isConsole
      type: function
    type: block-layout
  - if:
      name: isConsole
      type: function
    label: Select Type
    options:
    - description: Scale your CPU Memory based on resource usage
      text: Compute
      value: compute
    - description: Expand your database size based on volume usage
      text: Storage
      value: storage
    schema: temp/properties/autoscalingType
    type: radio
    validation:
      type: required
    watcher:
      func: initMetadata
      paths:
      - temp/properties/autoscalingType
  - elements:
    - elements:
      - fullwidth: true
        if:
          name: isTopology
          type: function
        init:
          type: func
          value: setTrigger|autoscalingKubedbComSolrAutoscaler/spec/storage/coordinator/trigger
        label: Trigger
        schema: temp/properties/storage/properties/coordinator/properties/trigger
        type: switch
        watcher:
          func: onTriggerChange|storage/coordinator
          paths:
          - temp/properties/storage/properties/coordinator/properties/trigger
      - if:
          name: isTopology
          type: function
        label: Expansion Mode (Online/Offline)
        subtitle: For Online Mode enables scaling without downtime by dynamically
          resizing storage while the database remains operational and Offline Mode
          performs storage scaling during scheduled downtime, ensuring consistency
          but requiring database restarts.
        type: label-element
      - description: Select how the storage expansion should be handled.
        if:
          name: isTopology
          type: function
        label: Mode
        options:
        - text: Online
          value: Online
        - text: Offline
          value: Offline
        schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/coordinator/properties/expansionMode
        type: select
      - elements:
        - customClass: width-300
          label: Usage Threshold (%)
          schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/coordinator/properties/usageThreshold
          subtitle: Set the threshold percentage of storage usage to trigger scaling.
          type: threshold-input
        - label: Scaling Rules
          loader: setValueFromDbDetails|resources/kubedbComSolr/spec/topology/coordinator/storage/resources/requests/storage
          schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/coordinator/properties/scalingRules
          type: scaling-rules
          watcher:
            func: handleUnit|autoscalingKubedbComSolrAutoscaler/spec/storage/coordinator/scalingRules|scalingRules
            paths:
            - schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/coordinator/properties/scalingRules
        - label: Upper Bound
          schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/coordinator/properties/upperBound
          type: input
          watcher:
            func: handleUnit|autoscalingKubedbComSolrAutoscaler/spec/storage/coordinator/upperBound
            paths:
            - schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/coordinator/properties/upperBound
        if:
          name: isTopology
          type: function
        label: Coordinator
        showLabels: true
        type: block-layout
      - fullwidth: true
        if:
          name: isTopology
          type: function
        init:
          type: func
          value: setTrigger|autoscalingKubedbComSolrAutoscaler/spec/storage/data/trigger
        label: Trigger
        schema: temp/properties/storage/properties/data/properties/trigger
        type: switch
        watcher:
          func: onTriggerChange|storage/data
          paths:
          - temp/properties/storage/properties/data/properties/trigger
      - if:
          name: isTopology
          type: function
        label: Expansion Mode (Online/Offline)
        subtitle: For Online Mode enables scaling without downtime by dynamically
          resizing storage while the database remains operational and Offline Mode
          performs storage scaling during scheduled downtime, ensuring consistency
          but requiring database restarts.
        type: label-element
      - description: Select how the storage expansion should be handled.
        if:
          name: isTopology
          type: function
        label: Mode
        options:
        - text: Online
          value: Online
        - text: Offline
          value: Offline
        schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/data/properties/expansionMode
        type: select
      - elements:
        - customClass: width-300
          label: Usage Threshold (%)
          schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/data/properties/usageThreshold
          subtitle: Set the threshold percentage of storage usage to trigger scaling.
          type: threshold-input
        - label: Scaling Rules
          loader: setValueFromDbDetails|resources/kubedbComSolr/spec/topology/data/storage/resources/requests/storage
          schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/data/properties/scalingRules
          type: scaling-rules
          watcher:
            func: handleUnit|autoscalingKubedbComSolrAutoscaler/spec/storage/data/scalingRules|scalingRules
            paths:
            - schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/data/properties/scalingRules
        - label: Upper Bound
          schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/data/properties/upperBound
          type: input
          watcher:
            func: handleUnit|autoscalingKubedbComSolrAutoscaler/spec/storage/data/upperBound
            paths:
            - schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/data/properties/upperBound
        if:
          name: isTopology
          type: function
        label: Data
        showLabels: true
        type: block-layout
      - fullwidth: true
        if:
          name: isTopology
          type: function
        init:
          type: func
          value: setTrigger|autoscalingKubedbComSolrAutoscaler/spec/storage/overseer/trigger
        label: Trigger
        schema: temp/properties/storage/properties/overseer/properties/trigger
        type: switch
        watcher:
          func: onTriggerChange|storage/overseer
          paths:
          - temp/properties/storage/properties/overseer/properties/trigger
      - if:
          name: isTopology
          type: function
        label: Expansion Mode (Online/Offline)
        subtitle: For Online Mode enables scaling without downtime by dynamically
          resizing storage while the database remains operational and Offline Mode
          performs storage scaling during scheduled downtime, ensuring consistency
          but requiring database restarts.
        type: label-element
      - description: Select how the storage expansion should be handled.
        if:
          name: isTopology
          type: function
        label: Mode
        options:
        - text: Online
          value: Online
        - text: Offline
          value: Offline
        schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/overseer/properties/expansionMode
        type: select
      - elements:
        - customClass: width-300
          label: Usage Threshold (%)
          schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/overseer/properties/usageThreshold
          subtitle: Set the threshold percentage of storage usage to trigger scaling.
          type: threshold-input
        - label: Scaling Rules
          loader: setValueFromDbDetails|resources/kubedbComSolr/spec/topology/overseer/storage/resources/requests/storage
          schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/overseer/properties/scalingRules
          type: scaling-rules
          watcher:
            func: handleUnit|autoscalingKubedbComSolrAutoscaler/spec/storage/overseer/scalingRules|scalingRules
            paths:
            - schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/overseer/properties/scalingRules
        - label: Upper Bound
          schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/overseer/properties/upperBound
          type: input
          watcher:
            func: handleUnit|autoscalingKubedbComSolrAutoscaler/spec/storage/overseer/upperBound
            paths:
            - schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/overseer/properties/upperBound
        if:
          name: isTopology
          type: function
        label: Overseer
        showLabels: true
        type: block-layout
      - fullwidth: true
        if:
          name: isNotTopology
          type: function
        init:
          type: func
          value: setTrigger|autoscalingKubedbComSolrAutoscaler/spec/storage/node/trigger
        label: Trigger
        schema: temp/properties/storage/properties/node/properties/trigger
        type: switch
        watcher:
          func: onTriggerChange|storage/node
          paths:
          - temp/properties/storage/properties/node/properties/trigger
      - if:
          name: isNotTopology
          type: function
        label: Expansion Mode (Online/Offline)
        subtitle: For Online Mode enables scaling without downtime by dynamically
          resizing storage while the database remains operational and Offline Mode
          performs storage scaling during scheduled downtime, ensuring consistency
          but requiring database restarts.
        type: label-element
      - description: Select how the storage expansion should be handled.
        if:
          name: isNotTopology
          type: function
        label: Mode
        options:
        - text: Online
          value: Online
        - text: Offline
          value: Offline
        schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/node/properties/expansionMode
        type: select
      - elements:
        - customClass: width-300
          label: Usage Threshold (%)
          schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/node/properties/usageThreshold
          subtitle: Set the threshold percentage of storage usage to trigger scaling.
          type: threshold-input
        - label: Scaling Rules
          loader: setValueFromDbDetails|resources/kubedbComSolr/spec/storage/resources/requests/storage
          schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/node/properties/scalingRules
          type: scaling-rules
          watcher:
            func: handleUnit|autoscalingKubedbComSolrAutoscaler/spec/storage/node/scalingRules|scalingRules
            paths:
            - schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/node/properties/scalingRules
        - label: Upper Bound
          schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/node/properties/upperBound
          type: input
          watcher:
            func: handleUnit|autoscalingKubedbComSolrAutoscaler/spec/storage/node/upperBound
            paths:
            - schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/node/properties/upperBound
        if:
          name: isNotTopology
          type: function
        label: Node
        showLabels: true
        type: block-layout
      showLabels: false
      type: block-layout
    - elements:
      - label: Select NodeTopology
        loader: fetchNodeTopology
        schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/nodeTopology/properties/name
        type: select
      - if:
          name: isNodeTopologySelected|storage
          type: function
        label: ScaleUp Diff Percentage
        schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/nodeTopology/properties/scaleUpDiffPercentage
        type: threshold-input
      - if:
          name: isNodeTopologySelected|storage
          type: function
        label: ScaleDown Diff Percentage
        schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/storage/properties/nodeTopology/properties/scaleDownDiffPercentage
        type: threshold-input
      label: Node Topology
      showLabels: true
      type: block-layout
    - elements:
      - label: Timeout
        schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/opsRequestOptions/properties/timeout
        type: time-picker
      - init:
          type: func
          value: setApplyToIfReady
        label: Apply
        options:
        - text: IfReady (OpsRequest will be applied if database is ready)
          value: IfReady
        - text: Always (OpsRequest will always be applied)
          value: Always
        schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/opsRequestOptions/properties/apply
        type: radio
      if:
        name: showOpsRequestOptions
        type: function
      label: Ops Request Options
      showLabels: true
      type: block-layout
    showLabels: false
    type: block-layout
  id: storage-autoscaler
  loader: getDbDetails
  type: single-step-form
- elements:
  - elements:
    - label: Name
      schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/metadata/properties/name
      type: input
    - if:
        name: isRancherManaged
        type: function
      label: Select Namespace
      loader: getNamespaces
      schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/metadata/properties/namespace
      type: select
      watcher:
        func: onNamespaceChange
        paths:
        - schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/metadata/properties/namespace
    - label: Select Db
      loader: getDbs
      refresh: true
      schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/databaseRef/properties/name
      type: select
      validation:
        type: required
      watcher:
        func: initMetadata
        paths:
        - schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/databaseRef/properties/name
    if:
      name: isConsole
      type: function
    type: block-layout
  - if:
      name: isConsole
      type: function
    label: Select Type
    options:
    - description: Scale your CPU Memory based on resource usage
      text: Compute
      value: compute
    - description: Expand your database size based on volume usage
      text: Storage
      value: storage
    schema: temp/properties/autoscalingType
    type: radio
    validation:
      type: required
    watcher:
      func: initMetadata
      paths:
      - temp/properties/autoscalingType
  - elements:
    - elements:
      - fullwidth: true
        if:
          name: isTopology
          type: function
        init:
          type: func
          value: setTrigger|autoscalingKubedbComSolrAutoscaler/spec/compute/coordinator/trigger
        label: Trigger
        schema: temp/properties/compute/properties/coordinator/properties/trigger
        type: switch
        watcher:
          func: onTriggerChange|compute/coordinator
          paths:
          - temp/properties/compute/properties/coordinator/properties/trigger
      - if:
          name: isTopology
          type: function
        label: Pod lifetime threshold
        subtitle: Specifies the duration a pod can exist before using considered for
          scaling decisions, ensuring resource optimization and workload stability
        type: label-element
      - customClass: width-300
        if:
          name: isTopology
          type: function
        label: Pod LifeTime Threshold (e.g., 10m 30s)
        schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/coordinator/properties/podLifeTimeThreshold
        type: input
      - elements:
        - customClass: width-300
          label: ResourceDiff Percentage
          schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/coordinator/properties/resourceDiffPercentage
          type: threshold-input
        - label: Resource Configuration
          subtitle: Define minimum and maximum allowed resources to ensure optimal
            database performance
          type: label-element
        - elements:
          - header: Minimum Resource Limit
            if:
              name: hasAnnotations
              type: function
            init:
              type: func
              value: setAllowedMachine|coordinator|min
            label: Min Allowed Profile
            loader:
              name: getMachines|coordinator|min
              watchPaths:
              - temp/properties/topologyMachines
              - temp/properties/allowedMachine-coordinator-max
            schema: temp/properties/allowedMachine-coordinator-min
            type: machine-compare
            watcher:
              func: onMachineChange|coordinator
              paths:
              - temp/properties/allowedMachine-coordinator-min
          - elements:
            - label: Cpu
              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/coordinator/properties/minAllowed/properties/cpu
              type: input-compare
            - label: Memory
              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/coordinator/properties/minAllowed/properties/memory
              type: input-compare
            fixedBlock: true
            if:
              name: hasNoAnnotations
              type: function
            label: Min Allowed
            showLabels: true
            type: block-layout
          - header: Maximum Resource Limit
            if:
              name: hasAnnotations
              type: function
            init:
              type: func
              value: setAllowedMachine|coordinator|max
            label: Max Allowed Profile
            loader:
              name: getMachines|coordinator|max
              watchPaths:
              - temp/properties/topologyMachines
              - temp/properties/allowedMachine-coordinator-min
            schema: temp/properties/allowedMachine-coordinator-max
            type: machine-compare
            watcher:
              func: onMachineChange|coordinator
              paths:
              - temp/properties/allowedMachine-coordinator-max
          - elements:
            - label: Cpu
              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/coordinator/properties/maxAllowed/properties/cpu
              type: input-compare
            - label: Memory
              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/coordinator/properties/maxAllowed/properties/memory
              type: input-compare
            fixedBlock: true
            if:
              name: hasNoAnnotations
              type: function
            label: Max Allowed
            showLabels: true
            type: block-layout
          showLabels: false
          type: block-layout
        - label: Controlled Resources
          loader: setControlledResources|coordinator
          multiple: true
          schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/coordinator/properties/controlledResources
          type: select
        - label: Container Controlled Values
          options:
          - text: Requests And Limits
            value: RequestsAndLimits
          - text: Requests Only
            value: RequestsOnly
          schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/coordinator/properties/containerControlledValues
          type: select
        if:
          name: isTopology
          type: function
        label: Coordinator
        showLabels: true
        type: block-layout
      - fullwidth: true
        if:
          name: isTopology
          type: function
        init:
          type: func
          value: setTrigger|autoscalingKubedbComSolrAutoscaler/spec/compute/data/trigger
        label: Trigger
        schema: temp/properties/compute/properties/data/properties/trigger
        type: switch
        watcher:
          func: onTriggerChange|compute/data
          paths:
          - temp/properties/compute/properties/data/properties/trigger
      - if:
          name: isTopology
          type: function
        label: Pod lifetime threshold
        subtitle: Specifies the duration a pod can exist before using considered for
          scaling decisions, ensuring resource optimization and workload stability
        type: label-element
      - customClass: width-300
        if:
          name: isTopology
          type: function
        label: Pod LifeTime Threshold (e.g., 10m 30s)
        schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/data/properties/podLifeTimeThreshold
        type: input
      - elements:
        - customClass: width-300
          label: ResourceDiff Percentage
          schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/data/properties/resourceDiffPercentage
          type: threshold-input
        - label: Resource Configuration
          subtitle: Define minimum and maximum allowed resources to ensure optimal
            database performance
          type: label-element
        - elements:
          - header: Minimum Resource Limit
            if:
              name: hasAnnotations
              type: function
            init:
              type: func
              value: setAllowedMachine|data|min
            label: Min Allowed Profile
            loader:
              name: getMachines|data|min
              watchPaths:
              - temp/properties/topologyMachines
              - temp/properties/allowedMachine-data-max
            schema: temp/properties/allowedMachine-data-min
            type: machine-compare
            watcher:
              func: onMachineChange|data
              paths:
              - temp/properties/allowedMachine-data-min
          - elements:
            - label: Cpu
              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/data/properties/minAllowed/properties/cpu
              type: input-compare
            - label: Memory
              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/data/properties/minAllowed/properties/memory
              type: input-compare
            fixedBlock: true
            if:
              name: hasNoAnnotations
              type: function
            label: Min Allowed
            showLabels: true
            type: block-layout
          - header: Maximum Resource Limit
            if:
              name: hasAnnotations
              type: function
            init:
              type: func
              value: setAllowedMachine|data|max
            label: Max Allowed Profile
            loader:
              name: getMachines|data|max
              watchPaths:
              - temp/properties/topologyMachines
              - temp/properties/allowedMachine-data-min
            schema: temp/properties/allowedMachine-data-max
            type: machine-compare
            watcher:
              func: onMachineChange|data
              paths:
              - temp/properties/allowedMachine-data-max
          - elements:
            - label: Cpu
              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/data/properties/maxAllowed/properties/cpu
              type: input-compare
            - label: Memory
              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/data/properties/maxAllowed/properties/memory
              type: input-compare
            fixedBlock: true
            if:
              name: hasNoAnnotations
              type: function
            label: Max Allowed
            showLabels: true
            type: block-layout
          showLabels: false
          type: block-layout
        - label: Controlled Resources
          loader: setControlledResources|data
          multiple: true
          schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/data/properties/controlledResources
          type: select
        - label: Container Controlled Values
          options:
          - text: Requests And Limits
            value: RequestsAndLimits
          - text: Requests Only
            value: RequestsOnly
          schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/data/properties/containerControlledValues
          type: select
        if:
          name: isTopology
          type: function
        label: Data
        showLabels: true
        type: block-layout
      - fullwidth: true
        if:
          name: isTopology
          type: function
        init:
          type: func
          value: setTrigger|autoscalingKubedbComSolrAutoscaler/spec/compute/overseer/trigger
        label: Trigger
        schema: temp/properties/compute/properties/overseer/properties/trigger
        type: switch
        watcher:
          func: onTriggerChange|compute/overseer
          paths:
          - temp/properties/compute/properties/overseer/properties/trigger
      - if:
          name: isTopology
          type: function
        label: Pod lifetime threshold
        subtitle: Specifies the duration a pod can exist before using considered for
          scaling decisions, ensuring resource optimization and workload stability
        type: label-element
      - customClass: width-300
        if:
          name: isTopology
          type: function
        label: Pod LifeTime Threshold (e.g., 10m 30s)
        schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/overseer/properties/podLifeTimeThreshold
        type: input
      - elements:
        - customClass: width-300
          label: ResourceDiff Percentage
          schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/overseer/properties/resourceDiffPercentage
          type: threshold-input
        - label: Resource Configuration
          subtitle: Define minimum and maximum allowed resources to ensure optimal
            database performance
          type: label-element
        - elements:
          - header: Minimum Resource Limit
            if:
              name: hasAnnotations
              type: function
            init:
              type: func
              value: setAllowedMachine|overseer|min
            label: Min Allowed Profile
            loader:
              name: getMachines|overseer|min
              watchPaths:
              - temp/properties/topologyMachines
              - temp/properties/allowedMachine-overseer-max
            schema: temp/properties/allowedMachine-overseer-min
            type: machine-compare
            watcher:
              func: onMachineChange|overseer
              paths:
              - temp/properties/allowedMachine-overseer-min
          - elements:
            - label: Cpu
              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/overseer/properties/minAllowed/properties/cpu
              type: input-compare
            - label: Memory
              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/overseer/properties/minAllowed/properties/memory
              type: input-compare
            fixedBlock: true
            if:
              name: hasNoAnnotations
              type: function
            label: Min Allowed
            showLabels: true
            type: block-layout
          - header: Maximum Resource Limit
            if:
              name: hasAnnotations
              type: function
            init:
              type: func
              value: setAllowedMachine|overseer|max
            label: Max Allowed Profile
            loader:
              name: getMachines|overseer|max
              watchPaths:
              - temp/properties/topologyMachines
              - temp/properties/allowedMachine-overseer-min
            schema: temp/properties/allowedMachine-overseer-max
            type: machine-compare
            watcher:
              func: onMachineChange|overseer
              paths:
              - temp/properties/allowedMachine-overseer-max
          - elements:
            - label: Cpu
              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/overseer/properties/maxAllowed/properties/cpu
              type: input-compare
            - label: Memory
              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/overseer/properties/maxAllowed/properties/memory
              type: input-compare
            fixedBlock: true
            if:
              name: hasNoAnnotations
              type: function
            label: Max Allowed
            showLabels: true
            type: block-layout
          showLabels: false
          type: block-layout
        - label: Controlled Resources
          loader: setControlledResources|overseer
          multiple: true
          schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/overseer/properties/controlledResources
          type: select
        - label: Container Controlled Values
          options:
          - text: Requests And Limits
            value: RequestsAndLimits
          - text: Requests Only
            value: RequestsOnly
          schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/overseer/properties/containerControlledValues
          type: select
        if:
          name: isTopology
          type: function
        label: Overseer
        showLabels: true
        type: block-layout
      - fullwidth: true
        if:
          name: isNotTopology
          type: function
        init:
          type: func
          value: setTrigger|autoscalingKubedbComSolrAutoscaler/spec/compute/node/trigger
        label: Trigger
        schema: temp/properties/compute/properties/node/properties/trigger
        type: switch
        watcher:
          func: onTriggerChange|compute/node
          paths:
          - temp/properties/compute/properties/node/properties/trigger
      - if:
          name: isNotTopology
          type: function
        label: Pod lifetime threshold
        subtitle: Specifies the duration a pod can exist before using considered for
          scaling decisions, ensuring resource optimization and workload stability
        type: label-element
      - customClass: width-300
        if:
          name: isNotTopology
          type: function
        label: Pod LifeTime Threshold (e.g., 10m 30s)
        schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/node/properties/podLifeTimeThreshold
        type: input
      - elements:
        - customClass: width-300
          label: ResourceDiff Percentage
          schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/node/properties/resourceDiffPercentage
          type: threshold-input
        - label: Resource Configuration
          subtitle: Define minimum and maximum allowed resources to ensure optimal
            database performance
          type: label-element
        - elements:
          - header: Minimum Resource Limit
            if:
              name: hasAnnotations
              type: function
            init:
              type: func
              value: setAllowedMachine|node|min
            label: Min Allowed Profile
            loader:
              name: getMachines|node|min
              watchPaths:
              - temp/properties/topologyMachines
              - temp/properties/allowedMachine-node-max
            schema: temp/properties/allowedMachine-node-min
            type: machine-compare
            watcher:
              func: onMachineChange|node
              paths:
              - temp/properties/allowedMachine-node-min
          - elements:
            - label: Cpu
              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/node/properties/minAllowed/properties/cpu
              type: input-compare
            - label: Memory
              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/node/properties/minAllowed/properties/memory
              type: input-compare
            fixedBlock: true
            if:
              name: hasNoAnnotations
              type: function
            label: Min Allowed
            showLabels: true
            type: block-layout
          - header: Maximum Resource Limit
            if:
              name: hasAnnotations
              type: function
            init:
              type: func
              value: setAllowedMachine|node|max
            label: Max Allowed Profile
            loader:
              name: getMachines|node|max
              watchPaths:
              - temp/properties/topologyMachines
              - temp/properties/allowedMachine-node-min
            schema: temp/properties/allowedMachine-node-max
            type: machine-compare
            watcher:
              func: onMachineChange|node
              paths:
              - temp/properties/allowedMachine-node-max
          - elements:
            - label: Cpu
              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/node/properties/maxAllowed/properties/cpu
              type: input-compare
            - label: Memory
              schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/node/properties/maxAllowed/properties/memory
              type: input-compare
            fixedBlock: true
            if:
              name: hasNoAnnotations
              type: function
            label: Max Allowed
            showLabels: true
            type: block-layout
          showLabels: false
          type: block-layout
        - label: Controlled Resources
          loader: setControlledResources|node
          multiple: true
          schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/node/properties/controlledResources
          type: select
        - label: Container Controlled Values
          options:
          - text: Requests And Limits
            value: RequestsAndLimits
          - text: Requests Only
            value: RequestsOnly
          schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/node/properties/containerControlledValues
          type: select
        if:
          name: isNotTopology
          type: function
        label: Node
        showLabels: true
        type: block-layout
      loader: fetchTopologyMachines
      showLabels: false
      type: block-layout
    - elements:
      - label: Select NodeTopology
        loader: fetchNodeTopology
        schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/nodeTopology/properties/name
        type: select
      - if:
          name: isNodeTopologySelected|compute
          type: function
        label: Scale Up DiffPercentage
        schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/nodeTopology/properties/scaleUpDiffPercentage
        type: threshold-input
      - if:
          name: isNodeTopologySelected|compute
          type: function
        label: Scale Down DiffPercentage
        schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/compute/properties/nodeTopology/properties/scaleDownDiffPercentage
        type: threshold-input
      if:
        name: hasNoAnnotations
        type: function
      label: NodeTopology
      showLabels: true
      type: block-layout
    showLabels: false
    type: block-layout
  - elements:
    - label: Timeout
      schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/opsRequestOptions/properties/timeout
      type: time-picker
    - init:
        type: func
        value: setApplyToIfReady
      label: Apply
      options:
      - text: IfReady (OpsRequest will be applied if database is ready)
        value: IfReady
      - text: Always (OpsRequest will always be applied)
        value: Always
      schema: schema/properties/resources/properties/autoscalingKubedbComSolrAutoscaler/properties/spec/properties/opsRequestOptions/properties/apply
      type: radio
    if:
      name: showOpsRequestOptions
      type: function
    label: Ops Request Options
    showLabels: true
    type: block-layout
  id: compute-autoscaler
  loader: getDbDetails
  type: single-step-form
type: multi-step-form
