steps:
- form:
    discriminator:
      isResourceLoaded:
        default: false
        type: boolean
    elements:
    - computed: setReleaseNameAndNamespaceAndInitializeValues
      if: returnFalse
      type: input
    - discriminator:
        enabledFeatures:
          type: array
      elements:
      - computed: getFeatureSetDescription
        customClass: mb-20
        label:
          isSubsection: true
        type: label-element
      - computed: getEnabledFeatures
        fetch: fetchFeatureSetOptions
        hasDescription: true
        individualItemDisabilityCheck: disableFeatures
        onChange: onEnabledFeaturesChange
        schema:
          $ref: discriminator#/properties/enabledFeatures
        type: checkbox
      - computed: checkIsResourceLoaded
        if: hideThisElement
        type: input
      - alertInfo:
          show: true
          type: info
        label:
          text: 'Note: Enabling a feature auto enables any prerequisite features'
        type: label-element
      - elements:
        - label:
            text: caCert
          schema:
            $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_service_gateway_presets/properties/spec/properties/values/properties/cluster/properties/tls/properties/ca/properties/cert
          type: textarea
        - label:
            text: caKey
          schema:
            $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_service_gateway_presets/properties/spec/properties/values/properties/cluster/properties/tls/properties/ca/properties/key
          type: textarea
        label:
          text: Cluster
        schema:
          $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_service_gateway_presets/properties/spec/properties/values/properties/cluster/properties/tls/properties/ca
        show_label: true
        type: single-step-form
      - elements:
        - label:
            text: nodeportRange
          schema:
            $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_service_gateway_presets/properties/spec/properties/values/properties/envoy/properties/service/properties/nodeportRange
          type: textarea
        - label:
            text: portRange
          schema:
            $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_service_gateway_presets/properties/spec/properties/values/properties/envoy/properties/service/properties/portRange
          type: textarea
        label:
          text: Envoy
        schema:
          $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_service_gateway_presets/properties/spec/properties/values/properties/envoy/properties/service
        show_label: true
        type: single-step-form
      - label:
          text: enable Gateway-DNS?
        schema:
          $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_service_gateway_presets/properties/spec/properties/values/properties/gateway-dns/properties/enabled
        type: switch
      - elements:
        - label:
            text: Name
          schema:
            $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_service_gateway_presets/properties/spec/properties/values/properties/vaultServer/properties/name
          type: input
        - label:
            text: Namespace
          schema:
            $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_service_gateway_presets/properties/spec/properties/values/properties/vaultServer/properties/namespace
          type: input
        label:
          text: Vault Server
        schema:
          $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_service_gateway_presets/properties/spec/properties/values/properties/vaultServer
        show_label: true
        type: single-step-form
      type: single-step-form
    type: single-step-form
  id: opscenter-core
  title: steps.0.label
type: multi-step-form
