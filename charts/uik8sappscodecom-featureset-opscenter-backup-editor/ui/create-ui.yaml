steps:
- form:
    discriminator:
      isResourceLoaded:
        default: false
        type: boolean
    elements:
    - computed: setReleaseNameAndNamespaceAndInitializeValues
      if: returnFalse
      type: input
    - discriminator:
        enabledFeatures:
          type: array
      elements:
      - computed: getFeatureSetDescription
        customClass: mb-20
        label:
          isSubsection: true
        type: label-element
      - computed: getEnabledFeatures
        fetch: fetchFeatureSetOptions
        hasDescription: true
        individualItemDisabilityCheck: disableFeatures
        onChange: onEnabledFeaturesChange
        schema:
          $ref: discriminator#/properties/enabledFeatures
        type: checkbox
      - computed: checkIsResourceLoaded
        if: hideThisElement
        type: input
      type: single-step-form
    - discriminator:
        backupPresetType:
          default: stash
          type: string
      elements: 
      - label:
          text: labels.backup.type
        type: label-element
      - disabled: false
        onChange: presetTypeChecker
        options:
        - text: labels.backup.kubestash
          value: kubestash
        - text: labels.backup.stash
          value: stash
        schema:
          $ref: discriminator#/properties/backupPresetType
        type: radio
      - label:
          text: labels.backend.provider
        onChange: onBackendProviderChange
        options:
        - text: Azure Blob Storage
          value: azure
        - text: Backblaze B2
          value: b2
        - text: Google Cloud Service
          value: gcs
        - text: AWS S3
          value: s3
        - text: OpenStack Swift
          value: swift
        schema:
          $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_kubestash/properties/spec/properties/values/properties/stash/properties/backend/properties/provider
        type: select
        required: true
        if: checkPresetType|kubestash
      type: single-step-form
    type: single-step-form
  id: opscenter-backup
  title: steps.0.label
type: multi-step-form
