steps:
- form:
    elements:
    - if: returnFalse
      computed: setReleaseNameAndNamespace
      type: input
    - disabled: isFeatureDisabled|license-proxyserver
      discriminator:
        isLicenseProxyServerEnabled:
          type: boolean
      elements:    
      - computed: getFeatureTitle|license-proxyserver
        type: label-element
      - computed: getFeatureDescription|license-proxyserver
        customClass: mb-20
        label:
          isSubsection: true
        type: label-element
      - if: isFeatureDisabled|license-proxyserver
        computed: getFeatureNote|license-proxyserver
        alertInfo:
          show: true
          type: error
        type: label-element
      - computed: isFeatureEnabled|license-proxyserver
        label:
          text: labels.enable_license_proxy_server_question
        onChange: onFeatureStatusChange|helmToolkitFluxcdIoHelmRelease_license_proxyserver|/isLicenseProxyServerEnabled|license-proxyserver
        schema:
          $ref: discriminator#/properties/isLicenseProxyServerEnabled
        type: switch
      - if: isDiscriminatorValueTrue|/isLicenseProxyServerEnabled
        elements:
        - label:
            text: labels.registryFQDN
          schema:
            $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_license_proxyserver/properties/spec/properties/values/properties/registryFQDN
          type: input
        - fetch: getImagePullSecrets
          label:
            text: labels.imagePullSecrets
          schema:
            $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_license_proxyserver/properties/spec/properties/values/properties/imagePullSecrets
          type: multiselect
        - elements:
          - label:
              text: labels.readOnlyRootFilesystem_question
            schema:
              $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_license_proxyserver/properties/spec/properties/values/properties/image/properties/securityContext/properties/readOnlyRootFilesystem
            type: switch
          - label:
              text: labels.runAsNonRoot_question
            schema:
              $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_license_proxyserver/properties/spec/properties/values/properties/image/properties/securityContext/properties/runAsNonRoot
            type: switch
          - label:
              text: labels.runAsUser
            schema:
              $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_license_proxyserver/properties/spec/properties/values/properties/image/properties/securityContext/properties/runAsUser
            type: input
          label:
            text: labels.containerSecurityContext
          schema:
            $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_license_proxyserver/properties/spec/properties/values/properties/image/properties/securityContext
          show_label: true
          type: single-step-form
        - label:
            isSubsection: true
            text: labels.podSecurityContext
          type: label-element
        - elements:
          - label:
              text: labels.fsGroup
            schema:
              $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_license_proxyserver/properties/spec/properties/values/properties/podSecurityContext/properties/fsGroup
            type: input
          schema:
            $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_license_proxyserver/properties/spec/properties/values/properties/podSecurityContext
          type: single-step-form
        - elements:
          - label:
              text: labels.serviceAccount.name
            schema:
              $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_license_proxyserver/properties/spec/properties/values/properties/serviceAccount/properties/name
            onChange: onServiceAccountNameChange|helmToolkitFluxcdIoHelmRelease_license_proxyserver
            type: input
          - isArray: true
            keys:
              label:
                text: labels.annotations.key
            label:
              text: labels.annotations.label
            schema:
              $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_license_proxyserver/properties/spec/properties/values/properties/serviceAccount/properties/annotations
            type: key-value-input-form
            values:
              label:
                text: labels.annotations.value
              schema:
                $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_license_proxyserver/properties/spec/properties/values/properties/serviceAccount/properties/annotations/additionalProperties
              type: input
          label:
            text: labels.serviceAccount.label
          schema:
            $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_license_proxyserver/properties/spec/properties/values/properties/serviceAccount
          show_label: true
          type: single-step-form
        - elements:
          - hasDescription: true
            label:
              text: labels.agent
            onChange: onAgentChange|helmToolkitFluxcdIoHelmRelease_license_proxyserver
            options:
            - description: options.agent.prometheus_operator.description
              text: options.agent.prometheus_operator.label
              value: prometheus.io/operator
            - description: options.agent.prometheus.description
              text: options.agent.prometheus.label
              value: prometheus.io
            - description: options.agent.prometheus_builtin.description
              text: options.agent.prometheus_builtin.label
              value: prometheus.io/builtin
            schema:
              $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_license_proxyserver/properties/spec/properties/values/properties/monitoring/properties/agent
            type: radio
          - elements:
            - isArray: true
              keys:
                label:
                  text: labels.labels.key
              label:
                text: labels.labels.label
              schema:
                $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_license_proxyserver/properties/spec/properties/values/properties/monitoring/properties/serviceMonitor/properties/labels
              type: key-value-input-form
              values:
                label:
                  text: labels.labels.value
                schema:
                  $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_license_proxyserver/properties/spec/properties/values/properties/monitoring/properties/serviceMonitor/properties/labels/additionalProperties
                type: input
            if: isEqualToModelPathValue|/resources/helmToolkitFluxcdIoHelmRelease_license_proxyserver/spec/values/monitoring/agent|prometheus.io/operator
            schema:
              $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_license_proxyserver/properties/spec/properties/values/properties/monitoring/properties/serviceMonitor
            type: single-step-form
          label:
            text: labels.monitoring
          schema:
            $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_license_proxyserver/properties/spec/properties/values/properties/monitoring
          show_label: true
          type: single-step-form
        type: single-step-form
      type: single-step-form
    type: single-step-form
  id: license-proxy-server
  title: steps.0.label
- form:
    elements:
    - disabled: isFeatureDisabled|supervisor
      discriminator:
        isSupervisorEnabled:
          type: boolean
      elements:
      - computed: getFeatureTitle|supervisor
        type: label-element
      - computed: getFeatureDescription|supervisor
        customClass: mb-20
        label:
          isSubsection: true
        type: label-element
      - if: isFeatureDisabled|supervisor
        computed: getFeatureNote|supervisor
        alertInfo:
          show: true
          type: error
        type: label-element
      - computed: isFeatureEnabled|supervisor
        label:
          text: labels.supervisor_question
        onChange: onFeatureStatusChange|helmToolkitFluxcdIoHelmRelease_supervisor|/isSupervisorEnabled|supervisor
        schema:
          $ref: discriminator#/properties/isSupervisorEnabled
        type: switch
      - if: isDiscriminatorValueTrue|/isSupervisorEnabled
        elements:
        - label:
            text: labels.registryFQDN
          schema:
            $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_supervisor/properties/spec/properties/values/properties/registryFQDN
          type: input
        - fetch: getImagePullSecrets
          label:
            text: labels.imagePullSecrets
          schema:
            $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_supervisor/properties/spec/properties/values/properties/imagePullSecrets
          type: multiselect
        - elements:
          - label:
              text: labels.readOnlyRootFilesystem_question
            schema:
              $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_supervisor/properties/spec/properties/values/properties/image/properties/securityContext/properties/readOnlyRootFilesystem
            type: switch
          - label:
              text: labels.runAsNonRoot_question
            schema:
              $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_supervisor/properties/spec/properties/values/properties/image/properties/securityContext/properties/runAsNonRoot
            type: switch
          - label:
              text: labels.runAsUser
            schema:
              $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_supervisor/properties/spec/properties/values/properties/image/properties/securityContext/properties/runAsUser
            type: input
          label:
            text: labels.containerSecurityContext
          schema:
            $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_supervisor/properties/spec/properties/values/properties/image/properties/securityContext
          show_label: true
          type: single-step-form
        - label:
            isSubsection: true
            text: labels.podSecurityContext
          type: label-element
        - elements:
          - label:
              text: labels.fsGroup
            schema:
              $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_supervisor/properties/spec/properties/values/properties/podSecurityContext/properties/fsGroup
            type: input
          schema:
            $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_supervisor/properties/spec/properties/values/properties/podSecurityContext
          type: single-step-form
        - elements:
          - label:
              text: labels.serviceAccount.name
            schema:
              $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_supervisor/properties/spec/properties/values/properties/serviceAccount/properties/name
            onChange: onServiceAccountNameChange|helmToolkitFluxcdIoHelmRelease_supervisor
            type: input
          - isArray: true
            keys:
              label:
                text: labels.annotations.key
            label:
              text: labels.annotations.label
            schema:
              $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_supervisor/properties/spec/properties/values/properties/serviceAccount/properties/annotations
            type: key-value-input-form
            values:
              label:
                text: labels.annotations.value
              schema:
                $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_supervisor/properties/spec/properties/values/properties/serviceAccount/properties/annotations/additionalProperties
              type: input
          label:
            text: labels.serviceAccount.label
          schema:
            $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_supervisor/properties/spec/properties/values/properties/serviceAccount
          show_label: true
          type: single-step-form
        - elements:
          - hasDescription: true
            label:
              text: labels.agent
            onChange: onAgentChange|helmToolkitFluxcdIoHelmRelease_supervisor
            options:
            - description: options.agent.prometheus_operator.description
              text: options.agent.prometheus_operator.label
              value: prometheus.io/operator
            - description: options.agent.prometheus.description
              text: options.agent.prometheus.label
              value: prometheus.io
            - description: options.agent.prometheus_builtin.description
              text: options.agent.prometheus_builtin.label
              value: prometheus.io/builtin
            schema:
              $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_supervisor/properties/spec/properties/values/properties/monitoring/properties/agent
            type: radio
          - elements:
            - isArray: true
              keys:
                label:
                  text: labels.labels.key
              label:
                text: labels.labels.label
              schema:
                $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_supervisor/properties/spec/properties/values/properties/monitoring/properties/serviceMonitor/properties/labels
              type: key-value-input-form
              values:
                label:
                  text: labels.labels.value
                schema:
                  $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_supervisor/properties/spec/properties/values/properties/monitoring/properties/serviceMonitor/properties/labels/additionalProperties
                type: input
            if: isEqualToModelPathValue|/resources/helmToolkitFluxcdIoHelmRelease_supervisor/spec/values/monitoring/agent|prometheus.io/operator
            schema:
              $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_supervisor/properties/spec/properties/values/properties/monitoring/properties/serviceMonitor
            type: single-step-form
          label:
            text: labels.monitoring
          schema:
            $ref: schema#/properties/resources/properties/helmToolkitFluxcdIoHelmRelease_supervisor/properties/spec/properties/values/properties/monitoring
          show_label: true
          type: single-step-form
        type: single-step-form
      type: single-step-form 
    type: single-step-form
  id: supervisor
  title: steps.1.label
type: multi-step-form
