{
  "type": "single-step-form",
  "$schema": {
    "$ref": "schema#/"
  },
  "elements": [
    {
      "type": "single-step-form",
      "label": {
        "text": "Pod runtime settings"
      },
      "elements": [
        {
          "type": "label-element",
          "label": {
            "text": "labels.runtimeSettings.pod.title",
            "hasLine": true
          }
        },
        {
          "type": "select",
          "label": {
            "text": "labels.runtimeSettings.pod.serviceAccountName"
          },
          "schema": {
            "$ref": "schema#/properties/pod/properties/serviceAccountName"
          },
          "fetch": "resourceNames|core|v1|serviceaccounts"
        },
        {
          "label": {
            "text": "labels.runtimeSettings.pod.imagePullSecrets"
          },
          "type": "multiselect",
          "fetch": "getImagePullSecrets",
          "schema": {
            "$ref": "schema#/properties/pod/properties/imagePullSecrets"
          }
        },
        {
          "label": {
            "text": "labels.runtimeSettings.securityContext.title",
            "hasLine": true
          },
          "type": "label-element"
        },
        {
          "label": {
            "text": "labels.runtimeSettings.securityContext.fsGroup"
          },
          "type": "input",
          "schema": {
            "$ref": "schema#/properties/pod/properties/securityContext/properties/fsGroup"
          }
        },
        {
          "type": "switch",
          "label": {
            "text": "labels.runtimeSettings.securityContext.runAsNonRoot"
          },
          "schema": {
            "$ref": "schema#/properties/pod/properties/securityContext/properties/runAsNonRoot"
          }
        },
        {
          "label": {
            "text": "labels.runtimeSettings.securityContext.runAsUser"
          },
          "type": "input",
          "schema": {
            "$ref": "schema#/properties/pod/properties/securityContext/properties/runAsUser"
          }
        },
        {
          "label": {
            "text": "labels.runtimeSettings.securityContext.runAsGroup"
          },
          "type": "input",
          "schema": {
            "$ref": "schema#/properties/pod/properties/securityContext/properties/runAsGroup"
          }
        },
        {
          "label": {
            "text": "labels.runtimeSettings.securityContext.seLinuxOptions.title",
            "isSubsection": true
          },
          "type": "label-element"
        },
        {
          "label": {
            "text": "labels.runtimeSettings.securityContext.seLinuxOptions.level"
          },
          "type": "input",
          "schema": {
            "$ref": "schema#/properties/pod/properties/securityContext/properties/seLinuxOptions/properties/level"
          }
        },
        {
          "label": {
            "text": "labels.runtimeSettings.securityContext.seLinuxOptions.role"
          },
          "type": "input",
          "schema": {
            "$ref": "schema#/properties/pod/properties/securityContext/properties/seLinuxOptions/properties/role"
          }
        },
        {
          "label": {
            "text": "labels.runtimeSettings.securityContext.seLinuxOptions.type"
          },
          "type": "input",
          "schema": {
            "$ref": "schema#/properties/pod/properties/securityContext/properties/seLinuxOptions/properties/type"
          }
        },
        {
          "label": {
            "text": "labels.runtimeSettings.securityContext.seLinuxOptions.user"
          },
          "type": "input",
          "schema": {
            "$ref": "schema#/properties/pod/properties/securityContext/properties/seLinuxOptions/properties/user"
          }
        }
      ]
    },
    {
      "type": "single-step-form",
      "label": {
        "text": "Container runtime settings"
      },
      "elements": [
        {
          "type": "label-element",
          "label": {
            "text": "labels.runtimeSettings.container.title",
            "hasLine": true
          }
        },
        {
          "type": "single-step-form",
          "label": {
            "text": "Resources"
          },
          "schema": {
            "$ref": "schema#/properties/container/properties/resources"
          },
          "elements": [
            {
              "type": "label-element",
              "label": {
                "text": "labels.runtimeSettings.container.resources.title",
                "hasLine": true
              }
            },
            {
              "type": "single-step-form",
              "schema": {
                "$ref": "schema#/properties/container/properties/resources/properties/requests"
              },
              "elements": [
                {
                  "type": "label-element",
                  "label": {
                    "text": "labels.runtimeSettings.container.resources.requests",
                    "isSubsection": true
                  }
                },
                {
                  "type": "input",
                  "label": {
                    "text": "labels.runtimeSettings.container.resources.cpu"
                  },
                  "schema": {
                    "$ref": "schema#/properties/container/properties/resources/properties/requests/properties/cpu"
                  }
                },
                {
                  "type": "input",
                  "label": {
                    "text": "labels.runtimeSettings.container.resources.memory"
                  },
                  "schema": {
                    "$ref": "schema#/properties/container/properties/resources/properties/requests/properties/memory"
                  }
                }
              ]
            },
            {
              "type": "single-step-form",
              "schema": {
                "$ref": "schema#/properties/container/properties/resources/properties/limits"
              },
              "elements": [
                {
                  "type": "label-element",
                  "label": {
                    "text": "labels.runtimeSettings.container.resources.limits",
                    "isSubsection": true
                  }
                },
                {
                  "type": "input",
                  "label": {
                    "text": "labels.runtimeSettings.container.resources.cpu"
                  },
                  "schema": {
                    "$ref": "schema#/properties/container/properties/resources/properties/limits/properties/cpu"
                  }
                },
                {
                  "type": "input",
                  "label": {
                    "text": "labels.runtimeSettings.container.resources.memory"
                  },
                  "schema": {
                    "$ref": "schema#/properties/container/properties/resources/properties/limits/properties/memory"
                  }
                }
              ]
            }
          ]
        },
        {
          "type": "single-step-form",
          "label": {
            "text": "Nice"
          },
          "elements": [
            {
              "type": "label-element",
              "label": {
                "text": "labels.runtimeSettings.container.nice.title",
                "hasLine": true
              }
            },
            {
              "type": "input",
              "label": {
                "text": "labels.runtimeSettings.container.nice.adjustment"
              },
              "schema": {
                "$ref": "schema#/properties/container/properties/nice/properties/adjustment"
              }
            }
          ]
        },
        {
          "type": "single-step-form",
          "label": {
            "text": "Ionice"
          },
          "elements": [
            {
              "type": "label-element",
              "label": {
                "text": "labels.runtimeSettings.container.ionice.title",
                "hasLine": true
              }
            },
            {
              "type": "input",
              "label": {
                "text": "labels.runtimeSettings.container.ionice.class"
              },
              "schema": {
                "$ref": "schema#/properties/container/properties/ionice/properties/class"
              }
            },
            {
              "type": "input",
              "label": {
                "text": "labels.runtimeSettings.container.ionice.classData"
              },
              "schema": {
                "$ref": "schema#/properties/container/properties/ionice/properties/classData"
              }
            }
          ]
        },
        {
          "type": "single-step-form",
          "label": {
            "text": "Security Context"
          },
          "elements": [
            {
              "label": {
                "text": "labels.runtimeSettings.securityContext.title",
                "hasLine": true
              },
              "type": "label-element"
            },
            {
              "label": {
                "text": "labels.runtimeSettings.securityContext.privileged"
              },
              "type": "switch",
              "schema": {
                "$ref": "schema#/properties/container/properties/securityContext/properties/privileged"
              }
            },
            {
              "type": "switch",
              "label": {
                "text": "labels.runtimeSettings.securityContext.runAsNonRoot"
              },
              "schema": {
                "$ref": "schema#/properties/container/properties/securityContext/properties/runAsNonRoot"
              }
            },
            {
              "label": {
                "text": "labels.runtimeSettings.securityContext.runAsUser"
              },
              "type": "input",
              "schema": {
                "$ref": "schema#/properties/container/properties/securityContext/properties/runAsUser"
              }
            },
            {
              "label": {
                "text": "labels.runtimeSettings.securityContext.runAsGroup"
              },
              "type": "input",
              "schema": {
                "$ref": "schema#/properties/container/properties/securityContext/properties/runAsGroup"
              }
            },
            {
              "type": "single-step-form",
              "label": {
                "text": "SE linuxt options"
              },
              "elements": [
                {
                  "label": {
                    "text": "labels.runtimeSettings.securityContext.seLinuxOptions.title",
                    "isSubsection": true
                  },
                  "type": "label-element"
                },
                {
                  "label": {
                    "text": "labels.runtimeSettings.securityContext.seLinuxOptions.level"
                  },
                  "type": "input",
                  "schema": {
                    "$ref": "schema#/properties/container/properties/securityContext/properties/seLinuxOptions/properties/level"
                  }
                },
                {
                  "label": {
                    "text": "labels.runtimeSettings.securityContext.seLinuxOptions.role"
                  },
                  "type": "input",
                  "schema": {
                    "$ref": "schema#/properties/container/properties/securityContext/properties/seLinuxOptions/properties/role"
                  }
                },
                {
                  "label": {
                    "text": "labels.runtimeSettings.securityContext.seLinuxOptions.type"
                  },
                  "type": "input",
                  "schema": {
                    "$ref": "schema#/properties/container/properties/securityContext/properties/seLinuxOptions/properties/type"
                  }
                },
                {
                  "label": {
                    "text": "labels.runtimeSettings.securityContext.seLinuxOptions.user"
                  },
                  "type": "input",
                  "schema": {
                    "$ref": "schema#/properties/container/properties/securityContext/properties/seLinuxOptions/properties/user"
                  }
                }
              ]
            }
          ]
        },
        {
          "type": "reusable-element",
          "alias": "reusable_env_variables",
          "schema": {
            "$ref": "schema#/properties/env"
          },
          "dataContext": {
            "namespace": {
              "$ref": "data#/properties/namespace"
            }
          },
          "moduleResolver": "fetchJsons|env"
        },
        {
          "type": "reusable-element",
          "alias": "reusable_env_from",
          "schema": {
            "$ref": "schema#/properties/envFrom"
          },
          "dataContext": {
            "namespace": {
              "$ref": "data#/properties/namespace"
            }
          },
          "moduleResolver": "fetchJsons|env-from"
        }
      ]
    }
  ]
}