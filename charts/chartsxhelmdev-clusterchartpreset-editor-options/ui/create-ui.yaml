steps:
- form:
    elements:
    - elements:
      - discriminator:
          bundle:
            default: {}
            type: object
        elements:

        - discriminator:
            enableProfiles:
              default: false
              type: boolean
          elements:
          - label:
              text: Use custom profiles?
            schema:
              $ref: discriminator#/enableProfiles
            type: switch
          - addFormLabel: Profile
            element:
              elements:
              - label:
                  text: ID
                schema:
                  $ref: schema#/properties/spec/properties/admin/properties/machineProfiles/properties/machines/items/properties/id
                type: input
              - label:
                  text: Name
                schema:
                  $ref: schema#/properties/spec/properties/admin/properties/machineProfiles/properties/machines/items/properties/name
                type: input
              - label:
                  text: Limits
                hideRequests: true
                schema:
                  $ref: schema#/properties/spec/properties/admin/properties/machineProfiles/properties/machines/items/properties/limits
                type: resource-input-form
                
              type: single-step-form
            if: isEnableProfiles
            label:
              text: Machine Profiles
            schema:
              $ref: schema#/properties/spec/properties/storage/properties/mariadb/properties/scalingRules
            tableContents:
            - inTableColumn: true
              label:
                text: ID
              path: id
              type: value
              typeOfValue: string
            - inTableColumn: true
              label:
                text: Name
              path: name
              type: value
              typeOfValue: string
            - inTableColumn: true
              label:
                text: Limits
              path: limits
              type: value
              typeOfValue: object-array
            type: single-step-form-array
          show_label: true
          label:
            text: Configure MachineProfiles
          type: single-step-form
        
        type: single-step-form
      type: single-step-form
    - elements:
      - elements:
        - alias: reusable_stash-presets
          chart:
            name: uibytebuildersdev-component-stash-presets
            version: v0.13.0
          moduleResolver: fetchJsons
          schema:
            $ref: schema#/properties/spec/properties/backup/properties/kubestash
          type: reusable-element
        - computed: setTool
          if: returnFalse
          schema:
            $ref: schema#/properties/spec/properties/backup/properties/tool
          type: input
        schema:
          $ref: schema#/properties/spec/properties/backup
        type: single-step-form
      if: presetNameEqualsTo|stash-presets
      type: single-step-form
    - elements: []
      type: single-step-form
    type: single-step-form
  id: options
  title: Basic
type: multi-step-form
